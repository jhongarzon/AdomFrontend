<div class="container">
    <alertmessage></alertmessage>
    <h4 class="blue-text text-lighten-1 left">Asignar roles a usuario</h4>
    <div class="row">
        <div class="col s12">
            <div class="row">
                <div class="col s6">
                </div>
                <div class="input-field col s5" style="padding:4px 10px;border-bottom: 0 none">
                    <input #gbusers type="text"  placeholder="Búsqueda de usuarios">
                </div>
                <div class="col s1">
                    <i class="fa fa-search" style="margin:40px 4px 0 0"></i>            
                </div>
            </div>
            <div class="row">   
                <p-dataTable [value]="users" [rows]="rowsRecords" selectionMode="single" (onRowSelect)="onRowSelectUser($event)" [paginator]="true" [globalFilter]="gbusers" #dt>
                    <p-column field="namesComplete" [sortable]="true" [style]="{'width': '0%', 'visibility': 'hidden'}"></p-column>
                    <p-column field="state" header="Estado" styleClass="text-center" [style]="{'width': '10%'}">
                        <template let-col let-user="rowData" pTemplate="body">
                            <p-checkbox [(ngModel)]="user.state" binary="true" disabled="disabled"></p-checkbox>
                        </template>
                    </p-column>
                    <p-column field="firstName" header="Nombres" [sortable]="true" [style]="{'width': '40%'}"></p-column>
                    <p-column field="surname" header="Apellidos" [sortable]="true" [style]="{'width': '40%'}"></p-column>
                </p-dataTable>
            </div>
    </div>
    <div class="row" [class.hidden]="!inUserSelected">
        <div class="col s6">
        </div>
        <div class="input-field col s5" [class.hidden]="!inUserSelected" style="padding:4px 10px;border-bottom: 0 none">
            <input #gb type="text"  placeholder="Búsqueda de roles">
        </div>
        <div class="col s1" [class.hidden]="!inUserSelected">
            <i class="fa fa-search" style="margin:40px 4px 0 0"></i>            
        </div>
    </div>
    <p-dataTable [class.hidden]="!inUserSelected" [value]="userRoles" [rows]="10" [paginator]="true" [globalFilter]="gb" #dt>
        <p-column field="hasRole" header="Habilitar rol" styleClass="text-center" [editable]="true" [style]="{'width': '20%'}">
            <template let-col let-userRole="rowData" pTemplate="edit">
                <p-checkbox [(ngModel)]="userRole.hasRole" name="chk_{{userRole.roleId}}" binary="true" (onChange)="setOrUnsetUserRole(userRole)"></p-checkbox>
            </template>
        </p-column>
        <p-column field="roleName" header="Nombres" [sortable]="true" [style]="{'width': '80%'}"></p-column>
    </p-dataTable>
</div>